!function(e,t){var a={catchMethods:{methodreturn:[],count:0},init:function(t){var a,r,n;t.originalEvent.origin.match(/vimeo/g)&&"data"in t.originalEvent&&(n="string"===e.type(t.originalEvent.data)?e.parseJSON(t.originalEvent.data):t.originalEvent.data)&&(a=this.setPlayerID(n)).length&&(r=this.setVimeoAPIurl(a),n.hasOwnProperty("event")&&this.handleEvent(n,a,r),n.hasOwnProperty("method")&&this.handleMethod(n,a,r))},setPlayerID:function(t){return e("iframe[src*="+t.player_id+"]")},setVimeoAPIurl:function(e){return"http"!==e.attr("src").substr(0,4)?"https:"+e.attr("src").split("?")[0]:e.attr("src").split("?")[0]},handleMethod:function(e,t,a){this.catchMethods.methodreturn.push(e.value)},handleEvent:function(t,a,r){switch(t.event.toLowerCase()){case"ready":for(var n in e._data(a[0],"events"))n.match(/loadProgress|playProgress|play|pause|finish|seek|cuechange/)&&a[0].contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:n}),r);if(a.data("vimeoAPICall")){for(var i=a.data("vimeoAPICall"),s=0;s<i.length;s++)a[0].contentWindow.postMessage(JSON.stringify(i[s].message),i[s].api);a.removeData("vimeoAPICall")}a.data("vimeoReady",!0),a.triggerHandler("ready");break;case"seek":a.triggerHandler("seek",[t.data]);break;case"loadprogress":a.triggerHandler("loadProgress",[t.data]);break;case"playprogress":a.triggerHandler("playProgress",[t.data]);break;case"pause":a.triggerHandler("pause");break;case"finish":a.triggerHandler("finish");break;case"play":a.triggerHandler("play");break;case"cuechange":a.triggerHandler("cuechange")}}};jQuery(document).ready(function(){e("iframe[src*='vimeo.com']").each(function(t){var a=e(this).attr("src");if(null===a.match(/player_id/g)){var r=-1===a.indexOf("?")?"?":"&",n=e.param({api:1,player_id:"vvvvimeoVideo-"+t});e(this).attr("src",a+r+n)}})}),e(t).on("message",function(e){a.init(e)}),e.vimeo=function(e,r,n){var i,s,o,d,c={},l=a.catchMethods.methodreturn.length;if("string"==typeof r&&(c.method=r),"function"!=typeof n&&(c.value=n),"iframe"===e.prop("tagName").toLowerCase()&&c.hasOwnProperty("method")){if(e.data("vimeoReady"))e[0].contentWindow.postMessage(JSON.stringify(c),a.setVimeoAPIurl(e));else{var h=e.data("vimeoAPICall")?e.data("vimeoAPICall"):[];h.push({message:c,api:a.setVimeoAPIurl(e)}),e.data("vimeoAPICall",h)}}return("get"===r.toString().substr(0,3)||"paused"===r.toString())&&"function"==typeof n&&(i=l,s=n,o=a.catchMethods.count,d=t.setInterval(function(){a.catchMethods.methodreturn.length!=i&&(t.clearInterval(d),s(a.catchMethods.methodreturn[o]))},10),a.catchMethods.count++),e},e.fn.vimeo=function(t,a){return e.vimeo(this,t,a)}}(jQuery,window);