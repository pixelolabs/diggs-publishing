<div class="faq-section">
  <div class="container-1380">
    <div class="content-section text-center">
      <h2 class="h3">
        {{ section.settings.title }}
      </h2>
      {% if section.settings.description != blank %}
        {{ section.settings.description }}
      {% endif %}
      {% if section.settings.textLink != blank %}
        <a
          class="link--primary"
          href="{{section.settings.textLink}}"
          title="Read more about {{section.settings.linkText}}">
          {{- section.settings.linkText -}}
        </a>
      {% endif %}
    </div>
    <ul class="accordian js__accordian">
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'list' -%}
            <li class="heading">
              <h3 class="h4">
                {{ block.settings.heading }}
              </h3>
            </li>

          {%- when 'question' -%}
            <li>
              {% if block.settings.title != blank %}
                {% include 'icon-minus' %}
                {% include 'icon-plus' %}
                <h4 class="h5">
                  {{ block.settings.title }}
                </h4>
              {%- endif -%}

              <div class="content full-format">
                <p>{{ block.settings.faqAnswer }}</p>
              </div>
            </li>
        {%- endcase -%}
      {%- endfor -%}
    </ul>
  </div>
</div>

{% schema %}
  {
    "name": "FAQ's Accordion",
    "settings": [
      {
        "type": "text",
        "id": "title",
        "label": "Heading"
      },
      {
        "type": "richtext",
        "id": "description",
        "label": "Description"
      },
      {
        "type": "text",
        "id": "linkText",
        "label": "Link Text"
      },
      {
        "type": "url",
        "id": "textLink",
        "label": "Text Link"
      }
    ],
    "blocks": [
      {
        "type": "question",
        "name": "Question",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Question"
          },
          {
            "type": "richtext",
            "id": "faqAnswer",
            "label": "Answer"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "FAQ's Accordion"
      }
    ]
  }
{% endschema %}