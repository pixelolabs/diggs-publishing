<footer>
  <div class="main-footer">
    <div class="container-1306">
      <div class="top-section">
        <ul class="left-insta insta-list">
          {%- for block in section.blocks limit: 6 %}
            {% if block.settings.instaImage != blank %}
              <li>
                <a
                  href="{{ block.settings.InstaLink }}"
                  target="_blank"
                  class="image-section"
                  title="{{ block.settings.InstaLink }}"
                >
                  <picture>
                    <!-- Mobile sizes WebP -->
                    <source
                      type="image/webp"
                      media="(max-width: 767px)"
                      srcset="{{ block.settings.instaImage | image_url: width: 375, format: 'webp' }} 375w,
                              {{ block.settings.instaImage | image_url: width: 550, format: 'webp' }} 550w,
                              {{ block.settings.instaImage | image_url: width: 750, format: 'webp' }} 750w"
                      sizes="100vw">
                    
                    <!-- Tablet sizes WebP -->
                    <source
                      type="image/webp"
                      media="(min-width: 768px) and (max-width: 1023px)"
                      srcset="{{ block.settings.instaImage | image_url: width: 768, format: 'webp' }} 768w,
                              {{ block.settings.instaImage | image_url: width: 1024, format: 'webp' }} 1024w,
                              {{ block.settings.instaImage | image_url: width: 1200, format: 'webp' }} 1200w"
                      sizes="100vw">
                    
                    <!-- Desktop sizes WebP -->
                    <source
                      type="image/webp"
                      media="(min-width: 1024px)"
                      srcset="{{ block.settings.instaImage | image_url: width: 1000, format: 'webp' }} 1000w,
                              {{ block.settings.instaImage | image_url: width: 1262, format: 'webp' }} 1262w,
                              {{ block.settings.instaImage | image_url: width: 1400, format: 'webp' }} 1400w"
                      sizes="100vw">
                    
                    <!-- Fallback for non-WebP support -->
                    <img src="{{ block.settings.instaImage | image_url: width: 750 }}"
                         srcset="{{ block.settings.instaImage | image_url: width: 750 }} 750w,
                                 {{ block.settings.instaImage | image_url: width: 1200 }} 1200w,
                                 {{ block.settings.instaImage | image_url: width: 1400 }} 1400w"
                         sizes="(max-width: 767px) 100vw, (max-width: 1023px) 100vw, 100vw"
                         width="750"
                         height="{{ 750 | divided_by: block.settings.instaImage.aspect_ratio | round }}"
                         loading="lazy"
                         decoding="async"
                         alt="Instagram Image"
                         style="width: 100%; height: auto; display: block;">
                  </picture>
                </a>
              </li>
            {% endif %}
          {%- endfor %}
        </ul>
        <div class="middle-section">
          {% if section.settings.sstext != blank %}
            <span>{{ section.settings.sstext }}</span>
          {% endif %}
          {% if section.settings.logo != blank %}
            <div class="footer-logo">
              {{ section.settings.logo | image_url: width: 200 | image_tag: loading: 'lazy', widths: '200x200' }}
            </div>
          {% endif %}
          <div class="social-icons">
            {% include 'social-icons' %}
          </div>
        </div>

        <ul class="rigt-insta insta-list">
          {% for block in section.blocks offset: 6 %}
            {% if block.settings.instaImage != blank %}
              <li>
                <a
                  href="{{ block.settings.InstaLink }}"
                  target="_blank"
                  class="image-section"
                  title="{{ block.settings.InstaLink }}"
                >
                  {{
                    block.settings.instaImage
                    | image_url: width: 1262
                    | image_tag: loading: 'lazy', widths: '1262x1000'
                  }}
                </a>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
      <div class="main-footer__middle flex">
        <!-- Footer Menu -->
        <div class="main-footer__nav flex">
          {% assign fotterMenu = linklists[section.settings.footerMenu] %}
          {% for link in fotterMenu.links %}
            {% assign linkTitle = link.title | downcase | remove: ' ' %}
            <div class="footer-links">
              <p class="title">
                <a href="javascript:;" title="{{ link.title | escape }}"> {{ link.title | escape }}</a>
              </p>
              <ul class="accordion-content">
                {% for childlink in link.links %}
                  <li>
                    <a href="{{ childlink.url }}" title="{{ childlink.title }}">{{ childlink.title }}</a>
                  </li>
                {% endfor %}
              </ul>
            </div>
          {% endfor %}
        </div>
        <div class="right-section">
          <div class="main-footer__newsletter">
            <div class="news-content">
              {% if section.settings.newsTitle != blank %}
                <span class="newsletter-title uppercase">{{ section.settings.newsTitle }}</span>
              {% endif %}

              {% if section.settings.description != blank %}
                <div class="description ">
                  {{ section.settings.description }}
                </div>
              {% endif %}
            </div>
            <div class="newsletter-form">
              <div class="klaviyo-form-TBi3KA"></div>
              {% comment %} {% render 'newsletter-form' %} {% endcomment %}
              {% comment %}
                <form action="">
                  <input type="email" name="Email" id="email" placeholder="Enter Email Address">
                  <button type="submit" class="btn-submit" value="Subscribe">Subscribe</button>
                </form>
              {% endcomment %}
            </div>
          </div>
        </div>
        {% comment %}
          <div class=" block-980">
            {% if section.settings.description != blank %}
              <div class="description">
                {{ section.settings.description }}
              </div>
            {% endif %}

          </div>
        {% endcomment %}
      </div>
      <div class="main-footer__bottom">
        {% assign legalMenu = linklists[section.settings.legalMenu] %}
        {% if legalMenu != blank %}
          <div class="legal-menu">
            {% for link in legalMenu.links %}
              <span>
                <a href="{{ link.url }}" title="{{ link.title | escape }}">{{ link.title | escape }}</a></span
              >
            {% endfor %}
          </div>
        {% endif %}
        <!-- Copyright -->
        <div class="copyright">
          <div class="copyright-section flex-wrap">
            <p>Â© {{ 'now' | date: '%Y' }} All Rights Reserved by Diggs Publishin</p>
            {% if section.settings.creditText != blank and section.settings.credit != blank %}
              <a href="{{ section.settings.credit }}" title="{{section.settings.creditText }}" target="_blank"
                >Designed by PixeloLabs</a
              >
            {% endif %}
          </div>
        </div>
        <div class="footer-cartoon">
          <img src="{{ "Footer-cartoon.jpg" |asset_url}}" alt="cartoon-figures">
        </div>
      </div>
    </div>
  </div>
</footer>
{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "header",
      "content": "Footer Info"
    },
    {
      "type": "text",
      "id": "sstext",
      "label": "Social Link Heading"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "text",
      "id": "newsTitle",
      "label": "Newsletter Title",
      "default": "Newsletter"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "link_list",
      "id": "footerMenu",
      "label": "Footer Menu"
    },
    {
      "type": "link_list",
      "id": "legalMenu",
      "label": "Legal Menu"
    },
    {
      "type": "text",
      "id": "creditText",
      "label": "Credit Text"
    },
    {
      "type": "url",
      "id": "credit",
      "label": "Credit Link"
    }
  ],

  "blocks": [
    {
      "type": "insta",
      "name": "Instagram Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "instaImage",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "InstaLink",
          "label": "Link"
        }
      ]
    }
  ]
}
{% endschema %}
